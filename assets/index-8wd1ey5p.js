import{r as e,a as t}from"./vendor-D7amQhf0.js";import{r as s,R as a,U as r,a as l,X as o,b as n,L as i,E as c,c as d,A as m,d as x,P as g,C as u,S as h,e as b,I as p,T as f,f as j,g as v,M as N,h as y,D as w,F as S,i as k,Z as C,j as E,k as P,l as I,m as T,n as A,o as D,p as G,q as R,s as L,H as M}from"./icons-Bueblje0.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var O,F,_={exports:{}},z={};var B,U=(F||(F=1,_.exports=function(){if(O)return z;O=1;var t=e(),s=Symbol.for("react.element"),a=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,l=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function n(e,t,a){var n,i={},c=null,d=null;for(n in void 0!==a&&(c=""+a),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)r.call(t,n)&&!o.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===i[n]&&(i[n]=t[n]);return{$$typeof:s,type:e,key:c,ref:d,props:i,_owner:l.current}}return z.Fragment=a,z.jsx=n,z.jsxs=n,z}()),_.exports),Y={};var $=function(){if(B)return Y;B=1;var e=t();return Y.createRoot=e.createRoot,Y.hydrateRoot=e.hydrateRoot,Y}();class K{static STORAGE_KEYS={PLAYERS:"image-spotter-players",IMAGES:"image-spotter-images",CREDENTIALS:"image-spotter-credentials",GAME_SETTINGS:"image-spotter-game-settings",BACKUP_PLAYERS:"image-spotter-players-backup",BACKUP_IMAGES:"image-spotter-images-backup",LAST_BACKUP:"image-spotter-last-backup",PERFORMANCE_STATS:"image-spotter-performance"};static MAX_STORAGE_SIZE=4718592;static CLEANUP_THRESHOLD=.85;static DEVELOPER_CREDENTIALS={username:"dev_meijeevan_2024",password:"VIT_Chennai_Dev_Access_2024!"};static isDeveloper(e,t){return e===this.DEVELOPER_CREDENTIALS.username&&t===this.DEVELOPER_CREDENTIALS.password}static saveData(e,t){const s=performance.now();try{const a=JSON.stringify(t),r=new Blob([a]).size;this.getStorageStats().used+r>this.MAX_STORAGE_SIZE&&(console.warn("Storage approaching limit, performing cleanup..."),this.performStorageCleanup()),localStorage.setItem(e,a);const l=e+"-backup",o={data:a,timestamp:Date.now(),checksum:this.generateChecksum(a),size:r,version:"2.0"};return localStorage.setItem(l,JSON.stringify(o)),this.updatePerformanceStats(e,performance.now()-s,r),localStorage.setItem(this.STORAGE_KEYS.LAST_BACKUP,Date.now().toString()),!0}catch(a){return console.error("Error saving data:",a),this.handleStorageError(e,t)}}static loadData(e,t){const s=performance.now();try{const a=localStorage.getItem(e);if(a){const r=JSON.parse(a);if(this.validateData(r))return this.updatePerformanceStats(e+"-load",performance.now()-s,0),this.mergeWithDefaults(r,t)}return this.recoverFromBackup(e,t)}catch(a){return console.error("Error loading data:",a),this.recoverFromBackup(e,t)}}static mergeWithDefaults(e,t){return Array.isArray(t)?Array.isArray(e)?e:t:"object"==typeof t&&null!==t?{...t,...e}:void 0!==e?e:t}static recoverFromBackup(e,t){try{const s=e+"-backup",a=localStorage.getItem(s);if(a){const s=JSON.parse(a);if(s.data&&s.checksum&&s.timestamp){const a=JSON.parse(s.data);if(this.generateChecksum(s.data)===s.checksum)return console.log("Data recovered from backup for key:",e),localStorage.setItem(e,s.data),this.mergeWithDefaults(a,t);console.warn("Backup checksum mismatch for key:",e)}}}catch(s){console.error("Backup recovery failed:",s)}return t}static handleStorageError(e,t){try{return this.performStorageCleanup(),localStorage.setItem(e,JSON.stringify(t)),console.log("Storage successful after cleanup"),!0}catch(s){try{const s=this.compressData(t);return localStorage.setItem(e,JSON.stringify(s)),console.log("Storage successful with compression"),!0}catch(a){try{return sessionStorage.setItem(e,JSON.stringify(t)),console.warn("Data saved to sessionStorage as fallback"),!0}catch(r){return this.saveToIndexedDB(e,t)}}}}static performStorageCleanup(){const e=Object.keys(localStorage),t=[];e.forEach(e=>{try{if(e.includes("-backup")){const s=JSON.parse(localStorage.getItem(e)||"{}");s.timestamp&&t.push({key:e,timestamp:s.timestamp,size:s.size||0})}}catch(s){localStorage.removeItem(e)}}),t.sort((e,t)=>e.timestamp-t.timestamp);let s=this.getStorageStats().used;const a=this.MAX_STORAGE_SIZE*this.CLEANUP_THRESHOLD;for(const r of t){if(s<=a)break;const e=Date.now()-6048e5;r.timestamp<e&&(localStorage.removeItem(r.key),s-=r.size,console.log("Cleaned up old backup:",r.key))}}static compressData(e){return Array.isArray(e)?e.map(e=>e.url&&e.url.length>1e3?{...e,url:this.compressBase64Image(e.url),compressed:!0}:e):e}static compressBase64Image(e){try{return e}catch(t){return e}}static saveToIndexedDB(e,t){try{if("indexedDB"in window)return console.log("IndexedDB fallback would be implemented here"),!1}catch(s){console.error("IndexedDB fallback failed:",s)}return!1}static generateChecksum(e){let t=0;if(0===e.length)return t.toString();for(let s=0;s<e.length;s++){t=(t<<5)-t+e.charCodeAt(s),t&=t}return`${t.toString()}-${e.length}`}static validateData(e){return!!e&&(Array.isArray(e)?e.every(e=>!(!e||"object"!=typeof e)&&(!(!e.id||"string"!=typeof e.id)&&(!!(!e.url||e.name&&e.size)&&(void 0===e.score||!("number"!=typeof e.score||e.score<0))))):"object"==typeof e)}static updatePerformanceStats(e,t,s){try{const a=JSON.parse(localStorage.getItem(this.STORAGE_KEYS.PERFORMANCE_STATS)||"{}");a[e]||(a[e]={count:0,totalDuration:0,totalSize:0,avgDuration:0,avgSize:0}),a[e].count++,a[e].totalDuration+=t,a[e].totalSize+=s,a[e].avgDuration=a[e].totalDuration/a[e].count,a[e].avgSize=a[e].totalSize/a[e].count,localStorage.setItem(this.STORAGE_KEYS.PERFORMANCE_STATS,JSON.stringify(a))}catch(a){console.warn("Performance stats update failed:",a)}}static exportAllData(){const e={players:this.loadData(this.STORAGE_KEYS.PLAYERS,[]),images:this.loadData(this.STORAGE_KEYS.IMAGES,[]),credentials:this.loadData(this.STORAGE_KEYS.CREDENTIALS,{}),gameSettings:this.loadData(this.STORAGE_KEYS.GAME_SETTINGS,{}),performanceStats:this.loadData(this.STORAGE_KEYS.PERFORMANCE_STATS,{}),exportTimestamp:Date.now(),version:"2.0",storageStats:this.getStorageStats()};return JSON.stringify(e,null,2)}static importAllData(e){try{const t=JSON.parse(e);if(!t.version||!t.exportTimestamp)throw new Error("Invalid backup format");return t.players&&Array.isArray(t.players)&&this.saveData(this.STORAGE_KEYS.PLAYERS,t.players),t.images&&Array.isArray(t.images)&&this.saveData(this.STORAGE_KEYS.IMAGES,t.images),t.credentials&&"object"==typeof t.credentials&&this.saveData(this.STORAGE_KEYS.CREDENTIALS,t.credentials),t.gameSettings&&"object"==typeof t.gameSettings&&this.saveData(this.STORAGE_KEYS.GAME_SETTINGS,t.gameSettings),!0}catch(t){return console.error("Import failed:",t),!1}}static getStorageStats(){let e=0,t=0;const s={};for(let r in localStorage)if(localStorage.hasOwnProperty(r)){const a=localStorage[r].length+r.length;e+=a,t++,r.includes("images")?s.Images=(s.Images||0)+a:r.includes("players")?s.Players=(s.Players||0)+a:r.includes("backup")?s.Backups=(s.Backups||0)+a:s.Other=(s.Other||0)+a}const a=this.MAX_STORAGE_SIZE;return{used:e,total:a,percentage:e/a*100,itemCount:t,breakdown:s,performance:this.loadData(this.STORAGE_KEYS.PERFORMANCE_STATS,{})}}static getPerformanceInsights(){const e=this.loadData(this.STORAGE_KEYS.PERFORMANCE_STATS,{}),t=Object.entries(e);return{slowestOperations:t.map(([e,t])=>({operation:e,avgDuration:t.avgDuration||0})).sort((e,t)=>t.avgDuration-e.avgDuration).slice(0,5),largestOperations:t.map(([e,t])=>({operation:e,avgSize:t.avgSize||0})).sort((e,t)=>t.avgSize-e.avgSize).slice(0,5),totalOperations:t.reduce((e,[,t])=>e+(t.count||0),0)}}}const W=({onLogin:e})=>{const[t,m]=s.useState(""),[x,g]=s.useState(""),[u,h]=s.useState(""),[b,p]=s.useState(null),[f,j]=s.useState(!1),[v,N]=s.useState(""),y=s.useRef(null);return U.jsx("div",{className:"min-h-screen flex items-center justify-center p-6",children:U.jsxs("div",{className:"w-full max-w-md",children:[U.jsxs("div",{className:"text-center mb-8",children:[U.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full mb-4",children:U.jsx(a,{className:"w-10 h-10 text-white"})}),U.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-400 via-purple-500 to-pink-500 bg-clip-text text-transparent mb-2",children:"Image Spotter"}),U.jsx("p",{className:"text-gray-400",children:"VIT Chennai Clubs Platform"})]}),U.jsxs("div",{className:"bg-black/40 backdrop-blur-sm border border-blue-500/30 rounded-2xl p-8",children:[U.jsxs("form",{onSubmit:s=>{if(s.preventDefault(),K.isDeveloper(t,x))return void e("Developer Access",b||void 0);const a=K.loadData("image-spotter-credentials",{username:"admin",password:"spotter2024"});t.trim()===a.username.trim()&&x===a.password?e(u.trim()||"VIT Chennai Clubs",b||void 0):(N("Invalid username or password"),setTimeout(()=>N(""),3e3))},className:"space-y-6",children:[U.jsxs("div",{children:[U.jsxs("label",{className:"block text-blue-300 font-medium mb-2 flex items-center gap-2",children:[U.jsx(r,{className:"w-4 h-4"}),"Club Name (Optional)"]}),U.jsx("input",{type:"text",value:u,onChange:e=>h(e.target.value),className:"w-full p-4 bg-black/50 border border-blue-500/30 rounded-lg text-white placeholder-gray-400 focus:border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-400/20 transition-all duration-300",placeholder:"Enter your club name (leave empty if not from a club)"}),U.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This will be displayed on the home page. Leave empty for default."})]}),U.jsxs("div",{children:[U.jsxs("label",{className:"block text-green-300 font-medium mb-2 flex items-center gap-2",children:[U.jsx(l,{className:"w-4 h-4"}),"Club Logo (Optional)"]}),b?U.jsx("div",{className:"relative",children:U.jsxs("div",{className:"w-full p-4 bg-black/50 border border-green-500/30 rounded-lg flex items-center gap-4",children:[U.jsx("img",{src:b,alt:"Club Logo",className:"w-12 h-12 rounded-full object-cover border-2 border-green-400/30"}),U.jsxs("div",{className:"flex-1",children:[U.jsx("p",{className:"text-green-400 font-medium",children:"Logo uploaded successfully"}),U.jsx("p",{className:"text-xs text-gray-400",children:"This will replace the rocket icon for your club"})]}),U.jsx("button",{type:"button",onClick:()=>{p(null),y.current&&(y.current.value="")},className:"p-2 bg-red-600/20 border border-red-500/30 rounded-lg hover:bg-red-600/30 transition-colors",children:U.jsx(o,{className:"w-4 h-4 text-red-400"})})]})}):U.jsxs("div",{onClick:()=>y.current?.click(),className:"w-full p-4 bg-black/50 border-2 border-dashed border-green-500/30 rounded-lg cursor-pointer hover:border-green-400/50 hover:bg-green-500/5 transition-all duration-300 text-center",children:[U.jsx(l,{className:"w-8 h-8 text-green-400 mx-auto mb-2"}),U.jsx("p",{className:"text-green-400 font-medium",children:"Click to upload club logo"}),U.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"PNG, JPG up to 2MB"})]}),U.jsx("input",{ref:y,type:"file",accept:"image/*",onChange:e=>{const t=e.target.files?.[0];if(!t)return;if(!t.type.startsWith("image/"))return void alert("Please select an image file");if(t.size>2097152)return void alert("Image size should be less than 2MB");const s=new FileReader;s.onload=e=>{const t=e.target?.result;p(t)},s.readAsDataURL(t)},className:"hidden"}),U.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Upload your club logo to personalize the experience. If not provided, the default rocket logo will be used."})]}),U.jsxs("div",{children:[U.jsxs("label",{className:"block text-blue-300 font-medium mb-2 flex items-center gap-2",children:[U.jsx(n,{className:"w-4 h-4"}),"Admin Username"]}),U.jsx("input",{type:"text",value:t,onChange:e=>m(e.target.value),className:"w-full p-4 bg-black/50 border border-blue-500/30 rounded-lg text-white placeholder-gray-400 focus:border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-400/20 transition-all duration-300",placeholder:"Enter admin username",required:!0})]}),U.jsxs("div",{children:[U.jsxs("label",{className:"block text-blue-300 font-medium mb-2 flex items-center gap-2",children:[U.jsx(i,{className:"w-4 h-4"}),"Admin Password"]}),U.jsxs("div",{className:"relative",children:[U.jsx("input",{type:f?"text":"password",value:x,onChange:e=>g(e.target.value),className:"w-full p-4 bg-black/50 border border-blue-500/30 rounded-lg text-white placeholder-gray-400 focus:border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-400/20 transition-all duration-300 pr-12",placeholder:"Enter admin password",required:!0}),U.jsx("button",{type:"button",onClick:()=>j(!f),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-blue-400 transition-colors",children:f?U.jsx(c,{className:"w-5 h-5"}):U.jsx(d,{className:"w-5 h-5"})})]})]}),v&&U.jsx("div",{className:"p-3 bg-red-500/20 border border-red-500/30 rounded-lg text-red-400 text-sm",children:v}),U.jsx("button",{type:"submit",className:"w-full py-4 bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg font-bold text-white hover:from-blue-500 hover:to-purple-500 transition-all duration-300 transform hover:scale-105 hover:shadow-lg hover:shadow-blue-500/25",children:"Access Game System"})]}),U.jsxs("div",{className:"mt-6 p-4 bg-yellow-500/10 border border-yellow-500/30 rounded-lg",children:[U.jsxs("p",{className:"text-yellow-400 text-sm text-center",children:[U.jsx("strong",{children:"Default Admin:"})," admin / spotter2024"]}),U.jsx("p",{className:"text-gray-400 text-xs text-center mt-1",children:"Credentials can be changed in admin panel"})]}),U.jsxs("div",{className:"mt-4 p-4 bg-green-500/10 border border-green-500/30 rounded-lg",children:[U.jsx("p",{className:"text-green-400 text-sm text-center",children:U.jsx("strong",{children:"VIT Chennai Clubs Platform"})}),U.jsx("p",{className:"text-gray-400 text-xs text-center mt-1",children:"Conduct engaging image spotter games for your club activities"})]})]})]})})},J=({gameImages:e,setGameImages:t,players:a,updatePlayerScore:r,gameSettings:n,updateGameSettings:i,resetToDefaults:c,clubLogo:k,setClubLogo:C,onBack:E,onLogout:P})=>{const[I,T]=s.useState("images"),[A,D]=s.useState(null),[G,R]=s.useState(""),[L,M]=s.useState(null),[O,F]=s.useState({}),[_,z]=s.useState(!1),[B,Y]=s.useState([]),[$,W]=s.useState(()=>K.loadData("image-spotter-credentials",{username:"admin",password:"spotter2024"})),[J,V]=s.useState(n),[H,q]=s.useState(null),[Z,X]=s.useState(""),Q=s.useRef(null),ee=s.useRef(null),te=s.useRef(null),se=100,ae=.85,re=s.useMemo(()=>{const t=e.reduce((e,t)=>e+(t.size||0),0),s=Math.min(e.length,n.imagesPerGame),a=e.length/se*100;return{totalSize:t,readyForGame:s,storageUsagePercent:a,isNearLimit:a>=90}},[e,se,n.imagesPerGame]),le=s.useCallback(e=>new Promise((t,s)=>{const a=document.createElement("canvas"),r=a.getContext("2d"),l=new Image;l.onload=()=>{try{const n=800;let{width:i,height:c}=l;if(i>n||c>n){const e=Math.min(n/i,n/c);i*=e,c*=e}if(a.width=i,a.height=c,r){let s,n;r.imageSmoothingEnabled=!0,r.imageSmoothingQuality="high",r.drawImage(l,0,0,i,c);try{s=a.toDataURL("image/webp",ae),n=Math.round(.75*s.length),(s.startsWith("data:image/png")||n>e.size)&&(s=a.toDataURL("image/jpeg",ae),n=Math.round(.75*s.length))}catch(o){s=a.toDataURL("image/jpeg",ae),n=Math.round(.75*s.length)}t({url:s,size:n})}else s(new Error("Canvas context not available"))}catch(n){s(n)}},l.onerror=()=>s(new Error("Failed to load image")),l.src=URL.createObjectURL(e)}),[800,ae]),oe=s.useCallback(async e=>{z(!0),Y(e);try{for(let s=0;s<e.length;s+=2){const a=e.slice(s,s+2);await Promise.all(a.map(async(e,a)=>{const r=`${s+a}`;try{F(e=>({...e,[r]:10})),F(e=>({...e,[r]:30}));const{url:s,size:a}=await le(e);F(e=>({...e,[r]:70}));const l=e.name.replace(/\.[^/.]+$/,"").toLowerCase(),o={id:Date.now().toString()+Math.random().toString(36).substr(2,9),url:s,name:e.name,size:a,answer:l};t(e=>{const t=[...e,o];return t.length>se?(console.log(`Removing ${t.length-se} oldest images to stay within limit`),t.slice(-100)):t}),F(e=>({...e,[r]:100})),setTimeout(()=>{F(e=>{const t={...e};return delete t[r],t})},1500)}catch(l){console.error("Error processing image:",e.name,l),F(e=>{const t={...e};return delete t[r],t})}})),s+2<e.length&&await new Promise(e=>setTimeout(e,200))}}finally{z(!1),Y([])}},[le,t,se]),ne=s.useCallback(async e=>{const t=e.target.files;if(!t||0===t.length)return;const s=Array.from(t).filter(e=>{const t=e.type.startsWith("image/"),s=e.size<=10485760;return t||console.warn(`Skipping non-image file: ${e.name}`),s||console.warn(`Skipping oversized file: ${e.name} (${(e.size/1024/1024).toFixed(1)}MB)`),t&&s});0!==s.length?s.length>20?alert("Too many files selected. Please upload 20 or fewer images at once for optimal performance."):(await oe(s),Q.current&&(Q.current.value="")):alert("No valid image files selected. Please choose image files under 10MB each.")},[oe]),ie=s.useCallback(e=>{t(t=>t.filter(t=>t.id!==e))},[t]),ce=s.useCallback(()=>{confirm("Are you sure you want to remove all images? This action cannot be undone.")&&t([])},[t]),de=e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]},me=Object.keys(O).length>0?Object.values(O).reduce((e,t)=>e+t,0)/Object.keys(O).length:0,xe=K.getStorageStats();return U.jsx("div",{className:"min-h-screen p-6",children:U.jsxs("div",{className:"max-w-6xl mx-auto",children:[U.jsxs("div",{className:"flex items-center justify-between mb-8",children:[U.jsxs("div",{className:"flex items-center gap-4",children:[U.jsx("button",{onClick:E,className:"p-3 bg-gray-600/20 border border-gray-500/30 rounded-lg hover:bg-gray-600/30 transition-all duration-300",children:U.jsx(m,{className:"w-5 h-5 text-gray-400"})}),U.jsx("h1",{className:"text-3xl font-bold text-white",children:"Admin Panel"})]}),U.jsxs("div",{className:"flex items-center gap-2",children:[U.jsx("div",{className:"px-3 py-2 rounded-lg border "+(re.isNearLimit?"bg-yellow-600/20 border-yellow-500/30":"bg-green-600/20 border-green-500/30"),children:U.jsx("span",{className:"text-sm font-medium "+(re.isNearLimit?"text-yellow-400":"text-green-400"),children:re.isNearLimit?"⚠️ Near Limit":"✓ Optimized"})}),U.jsxs("button",{onClick:P,className:"p-3 bg-red-600/20 border border-red-500/30 rounded-lg hover:bg-red-600/30 transition-all duration-300 flex items-center gap-2",children:[U.jsx(x,{className:"w-5 h-5 text-red-400"}),U.jsx("span",{className:"text-red-400",children:"Logout"})]})]})]}),U.jsx("div",{className:"flex gap-2 mb-8 overflow-x-auto",children:[{id:"images",label:"Image Management",icon:l},{id:"scores",label:"Score Management",icon:g},{id:"game-config",label:"Game Configuration",icon:u},{id:"settings",label:"System Settings",icon:h}].map(e=>{const t=e.icon;return U.jsxs("button",{onClick:()=>T(e.id),className:"px-6 py-3 rounded-lg font-medium transition-all duration-300 flex items-center gap-2 whitespace-nowrap "+(I===e.id?"bg-blue-600/30 border border-blue-500/50 text-blue-300":"bg-black/20 border border-gray-600/30 text-gray-400 hover:bg-black/30"),children:[U.jsx(t,{className:"w-4 h-4"}),e.label]},e.id)})}),"images"===I&&U.jsxs("div",{className:"space-y-6",children:[U.jsxs("div",{className:"bg-black/40 backdrop-blur-sm border border-blue-500/30 rounded-2xl p-8",children:[U.jsxs("div",{className:"flex items-center justify-between mb-6",children:[U.jsx("h2",{className:"text-2xl font-bold text-white",children:"Upload Game Images"}),U.jsxs("div",{className:"flex items-center gap-4",children:[U.jsxs("div",{className:"text-blue-400 font-medium",children:[e.length,"/",se," images"]}),U.jsxs("div",{className:"text-sm text-gray-400",children:["Total: ",de(re.totalSize)]}),U.jsxs("div",{className:"text-sm text-purple-400",children:["Game Ready: ",re.readyForGame,"/",n.imagesPerGame]})]})]}),re.isNearLimit&&U.jsx("div",{className:"mb-6 p-4 bg-yellow-600/10 border border-yellow-500/30 rounded-lg",children:U.jsxs("div",{className:"flex items-center gap-2 text-yellow-400",children:[U.jsx(b,{className:"w-5 h-5"}),U.jsx("span",{className:"font-medium",children:"Storage Warning:"}),U.jsxs("span",{children:["Approaching maximum image limit (",re.storageUsagePercent.toFixed(1),"% used). Oldest images will be automatically removed when limit is exceeded."]})]})}),_&&U.jsxs("div",{className:"mb-6 p-4 bg-blue-600/10 border border-blue-500/30 rounded-lg",children:[U.jsxs("div",{className:"flex items-center justify-between mb-2",children:[U.jsxs("span",{className:"text-blue-400 font-medium",children:["Processing Images... (",B.length," files)"]}),U.jsxs("span",{className:"text-blue-400",children:[Math.round(me),"%"]})]}),U.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:U.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 h-2 rounded-full transition-all duration-300",style:{width:`${me}%`}})}),U.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Images are being optimized for better performance and storage efficiency"})]}),U.jsxs("div",{className:"space-y-4",children:[U.jsxs("div",{onClick:()=>!_&&Q.current?.click(),className:"border-2 border-dashed rounded-xl p-8 text-center transition-all duration-300 "+(_?"border-gray-500/30 cursor-not-allowed opacity-50":"border-blue-500/30 cursor-pointer hover:border-blue-400/50 hover:bg-blue-500/5"),children:[U.jsx(l,{className:"w-12 h-12 mx-auto mb-4 "+(_?"text-gray-400":"text-blue-400")}),U.jsx("p",{className:"font-medium mb-2 "+(_?"text-gray-400":"text-white"),children:_?"Processing images...":"Click to upload images"}),U.jsx("p",{className:"text-gray-400 text-sm",children:"Support: JPG, PNG, GIF, WebP (Max 20 files, 10MB each)"}),U.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"Images are automatically optimized and compressed for optimal performance"})]}),U.jsx("input",{ref:Q,type:"file",multiple:!0,accept:"image/*",onChange:ne,disabled:_,className:"hidden"}),U.jsxs("div",{className:"flex gap-4",children:[U.jsx("button",{onClick:()=>!_&&Q.current?.click(),disabled:_,className:"px-6 py-3 bg-blue-600/20 border border-blue-500/30 rounded-lg text-blue-400 hover:bg-blue-600/30 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:_?"Processing...":"Add More Images"}),e.length>0&&U.jsx("button",{onClick:ce,disabled:_,className:"px-6 py-3 bg-red-600/20 border border-red-500/30 rounded-lg text-red-400 hover:bg-red-600/30 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:"Clear All Images"})]})]})]}),e.length>0&&U.jsxs("div",{className:"bg-black/40 backdrop-blur-sm border border-purple-500/30 rounded-2xl p-8",children:[U.jsxs("div",{className:"flex items-center justify-between mb-6",children:[U.jsxs("h3",{className:"text-xl font-bold text-white",children:["Uploaded Images (",e.length,")"]}),U.jsx("div",{className:"flex items-center gap-4 text-sm text-gray-400",children:U.jsxs("div",{className:"flex items-center gap-2",children:[U.jsx(p,{className:"w-4 h-4"}),U.jsx("span",{children:"Optimized & Ready"})]})})]}),U.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 max-h-96 overflow-y-auto custom-scrollbar",children:e.map(e=>U.jsxs("div",{className:"relative group bg-white/5 border border-gray-600/30 rounded-lg p-3",children:[U.jsx("img",{src:e.url,alt:e.name,className:"w-full h-32 object-cover rounded-lg cursor-pointer hover:border-blue-400/50 transition-all duration-300",onClick:()=>M(e.url),loading:"lazy"}),U.jsxs("div",{className:"absolute top-5 right-5 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex gap-2",children:[U.jsx("button",{onClick:()=>M(e.url),className:"p-2 bg-blue-600/80 rounded-full hover:bg-blue-500 transition-colors",children:U.jsx(d,{className:"w-4 h-4 text-white"})}),U.jsx("button",{onClick:()=>ie(e.id),className:"p-2 bg-red-600/80 rounded-full hover:bg-red-500 transition-colors",children:U.jsx(f,{className:"w-4 h-4 text-white"})})]}),U.jsxs("div",{className:"mt-2",children:[U.jsx("p",{className:"text-xs text-gray-400 truncate",children:e.name}),U.jsx("p",{className:"text-xs text-gray-500",children:de(e.size||0)}),U.jsxs("div",{className:"mt-2",children:[U.jsx("label",{className:"text-xs text-green-400 block mb-1",children:"Answer:"}),H===e.id?U.jsxs("div",{className:"flex gap-1",children:[U.jsx("input",{type:"text",value:Z,onChange:e=>X(e.target.value),className:"flex-1 p-1 bg-black/50 border border-green-500/30 rounded text-white text-xs",placeholder:"Correct answer",autoFocus:!0}),U.jsx("button",{onClick:()=>{return s=e.id,Z.trim()&&(t(e=>e.map(e=>e.id===s?{...e,answer:Z.trim().toLowerCase()}:e)),console.log("Image answer updated")),q(null),void X("");var s},className:"p-1 bg-green-600/20 border border-green-500/30 rounded hover:bg-green-600/30 transition-colors",children:U.jsx(j,{className:"w-3 h-3 text-green-400"})}),U.jsx("button",{onClick:()=>q(null),className:"p-1 bg-gray-600/20 border border-gray-500/30 rounded hover:bg-gray-600/30 transition-colors",children:U.jsx(o,{className:"w-3 h-3 text-gray-400"})})]}):U.jsxs("div",{className:"flex items-center gap-1",children:[U.jsx("span",{className:"text-xs text-white bg-green-600/20 px-2 py-1 rounded flex-1 truncate",children:e.answer||"No answer set"}),U.jsx("button",{onClick:()=>{return t=e.id,s=e.answer||"",q(t),void X(s);var t,s},className:"p-1 bg-blue-600/20 border border-blue-500/30 rounded hover:bg-blue-600/30 transition-colors",children:U.jsx(g,{className:"w-3 h-3 text-blue-400"})})]})]})]})]},e.id))})]})]}),"scores"===I&&U.jsxs("div",{className:"bg-black/40 backdrop-blur-sm border border-green-500/30 rounded-2xl p-8",children:[U.jsxs("div",{className:"flex items-center justify-between mb-6",children:[U.jsx("h2",{className:"text-2xl font-bold text-white",children:"Player Scores"}),U.jsxs("div",{className:"text-green-400 text-sm",children:["✓ Auto-saved • ",a.length," players stored"]})]}),0===a.length?U.jsxs("div",{className:"text-center py-12 text-gray-400",children:[U.jsx(g,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),U.jsx("p",{children:"No player scores yet"}),U.jsx("p",{className:"text-sm mt-2",children:"Scores will be automatically saved when players complete games"})]}):U.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto custom-scrollbar",children:a.map(e=>U.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 border border-gray-600/30 rounded-lg",children:[U.jsxs("div",{children:[U.jsx("p",{className:"text-white font-medium",children:e.name}),U.jsx("p",{className:"text-gray-400 text-sm",children:new Date(e.timestamp).toLocaleString()}),U.jsxs("div",{className:"flex gap-4 mt-1",children:[U.jsxs("span",{className:"text-xs text-blue-400",children:["Auto Score: ",e.autoScore]}),U.jsxs("span",{className:"text-xs text-green-400",children:["Final Score: ",e.score]})]})]}),U.jsx("div",{className:"flex items-center gap-3",children:A===e.id?U.jsxs("div",{className:"flex items-center gap-2",children:[U.jsx("input",{type:"number",value:G,onChange:e=>R(e.target.value),className:"w-24 p-2 bg-black/50 border border-blue-500/30 rounded text-white text-center",min:"0",max:n.maxScore,step:"0.1",placeholder:`0.0-${n.maxScore}`,autoFocus:!0}),U.jsx("button",{onClick:()=>(e=>{const t=parseFloat(G);!isNaN(t)&&t>=0&&t<=n.maxScore?(r(e,t),console.log("Score updated and will be automatically saved"),D(null),R("")):alert(`Please enter a valid score between 0.0 and ${n.maxScore}`)})(e.id),className:"p-2 bg-green-600/20 border border-green-500/30 rounded hover:bg-green-600/30 transition-colors",children:U.jsx(j,{className:"w-4 h-4 text-green-400"})}),U.jsx("button",{onClick:()=>D(null),className:"p-2 bg-gray-600/20 border border-gray-500/30 rounded hover:bg-gray-600/30 transition-colors",children:U.jsx(o,{className:"w-4 h-4 text-gray-400"})})]}):U.jsxs("div",{className:"flex items-center gap-3",children:[U.jsxs("div",{className:"text-right",children:[U.jsx("div",{className:"text-2xl font-bold text-blue-400",children:e.score.toFixed(1)}),U.jsxs("div",{className:"text-xs text-gray-400",children:["/ ",n.maxScore]})]}),U.jsx("button",{onClick:()=>{return t=e.id,s=e.score,D(t),void R(s.toString());var t,s},className:"p-2 bg-blue-600/20 border border-blue-500/30 rounded hover:bg-blue-600/30 transition-colors",children:U.jsx(g,{className:"w-4 h-4 text-blue-400"})})]})})]},e.id))})]}),"game-config"===I&&U.jsx("div",{className:"space-y-6",children:U.jsxs("div",{className:"bg-black/40 backdrop-blur-sm border border-purple-500/30 rounded-2xl p-8",children:[U.jsxs("div",{className:"flex items-center justify-between mb-6",children:[U.jsx("h2",{className:"text-2xl font-bold text-white",children:"Game Configuration"}),U.jsxs("div",{className:"flex gap-2",children:[U.jsxs("button",{onClick:c,className:"px-4 py-2 bg-yellow-600/20 border border-yellow-500/30 rounded-lg text-yellow-400 hover:bg-yellow-600/30 transition-all duration-300 flex items-center gap-2",children:[U.jsx(v,{className:"w-4 h-4"}),"Reset to Defaults"]}),U.jsxs("button",{onClick:()=>{J.imageTimeLimit<5||J.imageTimeLimit>60?alert("Image time limit must be between 5 and 60 seconds"):J.totalGameTime<60||J.totalGameTime>1800?alert("Total game time must be between 1 and 30 minutes"):J.maxScore<10||J.maxScore>100?alert("Max score must be between 10 and 100 points"):J.imagesPerGame<10||J.imagesPerGame>100?alert("Images per game must be between 10 and 100"):J.pointsPerImage<.1||J.pointsPerImage>10?alert("Points per image must be between 0.1 and 10"):(i(J),alert("Game settings saved successfully!"))},className:"px-4 py-2 bg-purple-600/20 border border-purple-500/30 rounded-lg text-purple-400 hover:bg-purple-600/30 transition-all duration-300 flex items-center gap-2",children:[U.jsx(j,{className:"w-4 h-4"}),"Save Settings"]})]})]}),U.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[U.jsxs("div",{className:"space-y-4",children:[U.jsxs("div",{children:[U.jsx("label",{className:"block text-purple-300 font-medium mb-2",children:"Time per Image (seconds)"}),U.jsx("input",{type:"number",value:J.imageTimeLimit,onChange:e=>{const t=parseInt(e.target.value)||0;V(e=>({...e,imageTimeLimit:t}))},className:"w-full p-3 bg-black/50 border border-purple-500/30 rounded-lg text-white focus:border-purple-400 focus:outline-none focus:ring-2 focus:ring-purple-400/20",min:"5",max:"60"}),U.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Range: 5-60 seconds"})]}),U.jsxs("div",{children:[U.jsx("label",{className:"block text-purple-300 font-medium mb-2",children:"Total Game Time (seconds)"}),U.jsx("input",{type:"number",value:J.totalGameTime,onChange:e=>{const t=parseInt(e.target.value)||0;V(e=>({...e,totalGameTime:t}))},className:"w-full p-3 bg-black/50 border border-purple-500/30 rounded-lg text-white focus:border-purple-400 focus:outline-none focus:ring-2 focus:ring-purple-400/20",min:"60",max:"1800"}),U.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Range: 60-1800 seconds (1-30 minutes)"})]}),U.jsxs("div",{children:[U.jsx("label",{className:"block text-purple-300 font-medium mb-2",children:"Points per Correct Answer"}),U.jsxs("div",{className:"flex items-center gap-2",children:[U.jsx("button",{onClick:()=>V(e=>({...e,pointsPerImage:Math.max(.1,e.pointsPerImage-.1)})),className:"p-2 bg-red-600/20 border border-red-500/30 rounded hover:bg-red-600/30 transition-colors",children:U.jsx(N,{className:"w-4 h-4 text-red-400"})}),U.jsx("input",{type:"number",value:J.pointsPerImage,onChange:e=>{const t=parseFloat(e.target.value)||0;V(e=>({...e,pointsPerImage:t}))},className:"flex-1 p-3 bg-black/50 border border-purple-500/30 rounded-lg text-white text-center focus:border-purple-400 focus:outline-none focus:ring-2 focus:ring-purple-400/20",min:"0.1",max:"10",step:"0.1"}),U.jsx("button",{onClick:()=>V(e=>({...e,pointsPerImage:Math.min(10,e.pointsPerImage+.1)})),className:"p-2 bg-green-600/20 border border-green-500/30 rounded hover:bg-green-600/30 transition-colors",children:U.jsx(y,{className:"w-4 h-4 text-green-400"})})]}),U.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Range: 0.1-10 points per correct answer"})]})]}),U.jsxs("div",{className:"space-y-4",children:[U.jsxs("div",{children:[U.jsx("label",{className:"block text-purple-300 font-medium mb-2",children:"Maximum Score"}),U.jsx("input",{type:"number",value:J.maxScore,onChange:e=>{const t=parseInt(e.target.value)||0;V(e=>({...e,maxScore:t}))},className:"w-full p-3 bg-black/50 border border-purple-500/30 rounded-lg text-white focus:border-purple-400 focus:outline-none focus:ring-2 focus:ring-purple-400/20",min:"10",max:"100"}),U.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Range: 10-100 points"})]}),U.jsxs("div",{children:[U.jsx("label",{className:"block text-purple-300 font-medium mb-2",children:"Images per Game"}),U.jsx("input",{type:"number",value:J.imagesPerGame,onChange:e=>{const t=parseInt(e.target.value)||0;V(e=>({...e,imagesPerGame:t}))},className:"w-full p-3 bg-black/50 border border-purple-500/30 rounded-lg text-white focus:border-purple-400 focus:outline-none focus:ring-2 focus:ring-purple-400/20",min:"10",max:"100"}),U.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Range: 10-100 images"})]})]})]}),U.jsxs("div",{className:"mt-6 p-4 bg-purple-600/10 border border-purple-500/30 rounded-lg",children:[U.jsx("h3",{className:"text-lg font-bold text-purple-400 mb-3",children:"Current Settings Preview"}),U.jsxs("div",{className:"grid md:grid-cols-5 gap-4 text-sm",children:[U.jsxs("div",{className:"text-center",children:[U.jsxs("div",{className:"text-2xl font-bold text-purple-400",children:[J.imageTimeLimit,"s"]}),U.jsx("div",{className:"text-gray-400",children:"Per Image"})]}),U.jsxs("div",{className:"text-center",children:[U.jsxs("div",{className:"text-2xl font-bold text-blue-400",children:[Math.floor(J.totalGameTime/60),"m"]}),U.jsx("div",{className:"text-gray-400",children:"Total Time"})]}),U.jsxs("div",{className:"text-center",children:[U.jsx("div",{className:"text-2xl font-bold text-green-400",children:J.maxScore}),U.jsx("div",{className:"text-gray-400",children:"Max Score"})]}),U.jsxs("div",{className:"text-center",children:[U.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:J.imagesPerGame}),U.jsx("div",{className:"text-gray-400",children:"Images"})]}),U.jsxs("div",{className:"text-center",children:[U.jsx("div",{className:"text-2xl font-bold text-orange-400",children:J.pointsPerImage}),U.jsx("div",{className:"text-gray-400",children:"Points/Answer"})]})]})]})]})}),"settings"===I&&U.jsxs("div",{className:"space-y-6",children:[U.jsxs("div",{className:"bg-black/40 backdrop-blur-sm border border-green-500/30 rounded-2xl p-8",children:[U.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Club Logo Management"}),U.jsx("div",{className:"space-y-6",children:U.jsxs("div",{children:[U.jsx("h3",{className:"text-lg font-bold text-green-400 mb-4",children:"Current Club Logo"}),k?U.jsxs("div",{className:"flex items-center gap-6",children:[U.jsx("div",{className:"relative w-20 h-20 bg-gradient-to-br from-green-400 via-blue-500 to-purple-400 rounded-full flex items-center justify-center border-2 border-green-400/30 shadow-lg overflow-hidden",children:U.jsx("img",{src:k,alt:"Club Logo",className:"w-full h-full object-cover rounded-full"})}),U.jsxs("div",{className:"flex-1",children:[U.jsx("p",{className:"text-green-400 font-medium",children:"Club logo is active"}),U.jsx("p",{className:"text-gray-400 text-sm",children:"This logo is displayed in the header section"})]}),U.jsxs("div",{className:"flex gap-2",children:[U.jsx("button",{onClick:()=>te.current?.click(),className:"px-4 py-2 bg-blue-600/20 border border-blue-500/30 rounded-lg text-blue-400 hover:bg-blue-600/30 transition-all duration-300",children:"Change Logo"}),U.jsx("button",{onClick:()=>{C(null),te.current&&(te.current.value="")},className:"px-4 py-2 bg-red-600/20 border border-red-500/30 rounded-lg text-red-400 hover:bg-red-600/30 transition-all duration-300",children:"Remove Logo"})]})]}):U.jsxs("div",{className:"flex items-center gap-6",children:[U.jsx("div",{className:"relative w-20 h-20 bg-gradient-to-br from-blue-400 via-purple-500 to-cyan-400 rounded-full flex items-center justify-center border-2 border-blue-400/30 shadow-lg",children:U.jsx(Rocket,{className:"w-10 h-10 text-white transform rotate-45"})}),U.jsxs("div",{className:"flex-1",children:[U.jsx("p",{className:"text-gray-400 font-medium",children:"Using default rocket logo"}),U.jsx("p",{className:"text-gray-400 text-sm",children:"Upload a club logo to personalize the experience"})]}),U.jsxs("button",{onClick:()=>te.current?.click(),className:"px-4 py-2 bg-green-600/20 border border-green-500/30 rounded-lg text-green-400 hover:bg-green-600/30 transition-all duration-300 flex items-center gap-2",children:[U.jsx(l,{className:"w-4 h-4"}),"Upload Logo"]})]}),U.jsx("input",{ref:te,type:"file",accept:"image/*",onChange:e=>{const t=e.target.files?.[0];if(!t)return;if(!t.type.startsWith("image/"))return void alert("Please select an image file");if(t.size>2097152)return void alert("Image size should be less than 2MB");const s=new FileReader;s.onload=e=>{const t=e.target?.result;C(t)},s.readAsDataURL(t)},className:"hidden"}),U.jsx("div",{className:"mt-4 p-3 bg-blue-600/10 border border-blue-500/30 rounded-lg",children:U.jsxs("p",{className:"text-blue-400 text-sm",children:[U.jsx("strong",{children:"Logo Requirements:"})," Image files only (PNG, JPG, GIF), maximum 2MB size. The logo will be automatically resized to fit the circular container."]})})]})})]}),U.jsxs("div",{className:"bg-black/40 backdrop-blur-sm border border-orange-500/30 rounded-2xl p-8",children:[U.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Admin Login Credentials"}),U.jsx("div",{className:"space-y-6",children:U.jsxs("div",{children:[U.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[U.jsxs("div",{children:[U.jsx("label",{className:"block text-gray-300 font-medium mb-2",children:"Username"}),U.jsx("input",{type:"text",value:$.username,onChange:e=>W(t=>({...t,username:e.target.value})),className:"w-full p-3 bg-black/50 border border-orange-500/30 rounded-lg text-white focus:border-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-400/20"})]}),U.jsxs("div",{children:[U.jsx("label",{className:"block text-gray-300 font-medium mb-2",children:"Password"}),U.jsx("input",{type:"password",value:$.password,onChange:e=>W(t=>({...t,password:e.target.value})),className:"w-full p-3 bg-black/50 border border-orange-500/30 rounded-lg text-white focus:border-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-400/20"})]})]}),U.jsx("button",{onClick:()=>{K.saveData("image-spotter-credentials",$)?alert("Credentials updated successfully! Note: Changes are saved locally on this device only."):alert("Failed to save credentials. Please try again.")},className:"mt-4 px-6 py-3 bg-orange-600/20 border border-orange-500/30 rounded-lg text-orange-400 hover:bg-orange-600/30 transition-all duration-300",children:"Save Credentials"}),U.jsx("div",{className:"mt-4 p-3 bg-yellow-600/10 border border-yellow-500/30 rounded-lg",children:U.jsxs("p",{className:"text-yellow-400 text-sm",children:[U.jsx("strong",{children:"Important:"})," Credential changes are saved locally on this device only. On other devices, the default credentials (admin/spotter2024) will be used."]})}),U.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Note: Developer access credentials are separate and cannot be changed here."})]})})]}),U.jsxs("div",{className:"bg-black/40 backdrop-blur-sm border border-purple-500/30 rounded-2xl p-8",children:[U.jsx("h3",{className:"text-lg font-bold text-purple-400 mb-4",children:"Data Backup & Recovery"}),U.jsxs("div",{className:"space-y-4",children:[U.jsxs("div",{className:"flex gap-4",children:[U.jsxs("button",{onClick:e=>{e.preventDefault(),e.stopPropagation();try{const e=K.exportAllData(),t=new Blob([e],{type:"application/json"}),s=URL.createObjectURL(t),a=document.createElement("a");a.href=s,a.download=`image-spotter-backup-${(new Date).toISOString().split("T")[0]}.json`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(s),alert("Backup exported successfully!")}catch(t){console.error("Export failed:",t),alert("Failed to export backup. Please try again.")}},className:"px-6 py-3 bg-purple-600/20 border border-purple-500/30 rounded-lg text-purple-400 hover:bg-purple-600/30 transition-all duration-300 flex items-center gap-2",children:[U.jsx(w,{className:"w-4 h-4"}),"Export Backup"]}),U.jsxs("button",{onClick:()=>ee.current?.click(),className:"px-6 py-3 bg-blue-600/20 border border-blue-500/30 rounded-lg text-blue-400 hover:bg-blue-600/30 transition-all duration-300 flex items-center gap-2",children:[U.jsx(S,{className:"w-4 h-4"}),"Import Backup"]})]}),U.jsx("input",{ref:ee,type:"file",accept:".json",onChange:e=>{e.preventDefault(),e.stopPropagation();const t=e.target.files?.[0];if(!t)return;const s=new FileReader;s.onload=e=>{try{const t=e.target?.result;K.importAllData(t)?(alert("Backup imported successfully! Please refresh the page to see the changes."),window.location.reload()):alert("Failed to import backup. Please check the file format.")}catch(t){console.error("Import failed:",t),alert("Failed to import backup. Invalid file format.")}},s.readAsText(t),ee.current&&(ee.current.value="")},className:"hidden"}),U.jsx("p",{className:"text-gray-400 text-sm",children:"Export creates a complete backup of all players, scores, images, and game settings. Import restores data from a backup file."})]})]}),U.jsxs("div",{className:"bg-black/40 backdrop-blur-sm border border-blue-500/30 rounded-2xl p-8",children:[U.jsx("h3",{className:"text-lg font-bold text-blue-400 mb-4",children:"System Statistics"}),U.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[U.jsxs("div",{className:"p-4 bg-blue-600/10 border border-blue-500/30 rounded-lg",children:[U.jsx("div",{className:"text-2xl font-bold text-blue-400",children:e.length}),U.jsx("div",{className:"text-gray-400",children:"Images Stored"})]}),U.jsxs("div",{className:"p-4 bg-green-600/10 border border-green-500/30 rounded-lg",children:[U.jsx("div",{className:"text-2xl font-bold text-green-400",children:a.length}),U.jsx("div",{className:"text-gray-400",children:"Players Recorded"})]}),U.jsxs("div",{className:"p-4 bg-purple-600/10 border border-purple-500/30 rounded-lg",children:[U.jsx("div",{className:"text-2xl font-bold text-purple-400",children:a.length>0?Math.max(...a.map(e=>e.score)).toFixed(1):"0.0"}),U.jsx("div",{className:"text-gray-400",children:"Highest Score"})]}),U.jsxs("div",{className:"p-4 bg-yellow-600/10 border border-yellow-500/30 rounded-lg",children:[U.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:de(xe.used)}),U.jsx("div",{className:"text-gray-400",children:"Storage Used"})]})]})]})]}),L&&U.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-6",onClick:()=>M(null),children:U.jsxs("div",{className:"relative max-w-4xl max-h-full",children:[U.jsx("img",{src:L,alt:"Preview",className:"max-w-full max-h-full object-contain rounded-lg"}),U.jsx("button",{onClick:()=>M(null),className:"absolute top-4 right-4 p-2 bg-black/50 rounded-full hover:bg-black/70 transition-colors",children:U.jsx(o,{className:"w-6 h-6 text-white"})})]})})]})})},V=({playerName:e,gameImages:t,gameSettings:a,onGameComplete:r,onBack:l})=>{const[o,n]=s.useState(0),[i,c]=s.useState(a.totalGameTime),[d,x]=s.useState(a.imageTimeLimit),[g,h]=s.useState([]),[b,p]=s.useState(""),[f,j]=s.useState(!1),[v,N]=s.useState(!1),[y,w]=s.useState(!1),[S,I]=s.useState(""),[T,A]=s.useState([]),[D,G]=s.useState(0),[R,L]=s.useState([]),M=s.useRef(null);s.useEffect(()=>{const e=[...t].sort(()=>Math.random()-.5);A(e.slice(0,a.imagesPerGame))},[t,a.imagesPerGame]),s.useEffect(()=>{if(!f||v)return;const e=setInterval(()=>{c(e=>e<=1?(z(),0):e-1),x(e=>e<=1?(_(),a.imageTimeLimit):e-1)},1e3);return()=>clearInterval(e)},[f,v,o,a.imageTimeLimit]);const O=()=>{j(!0),M.current?.focus()},F=(e,t)=>{if(!e||!t)return!1;const s=e=>e.toLowerCase().trim().replace(/[^a-z0-9\s]/g,"").replace(/\s+/g," "),a=s(e),r=s(t);if(a===r)return!0;if(a.includes(r)||r.includes(a)){return Math.min(a.length,r.length)/Math.max(a.length,r.length)>=.6}const l=a.split(" ").filter(e=>e.length>2),o=r.split(" ").filter(e=>e.length>2);if(l.length>0&&o.length>0){return l.filter(e=>o.some(t=>e.includes(t)||t.includes(e))).length/Math.max(l.length,o.length)>=.5}return!1},_=()=>{const e=T[o],t=!!b.trim()&&F(b,e?.answer||"");h(e=>[...e,b]),L(e=>[...e,t]),t&&G(e=>e+a.pointsPerImage),p(""),o>=a.imagesPerGame-1||o>=T.length-1?z():(n(e=>e+1),x(a.imageTimeLimit),setTimeout(()=>M.current?.focus(),100))},z=()=>{if(N(!0),w(!0),b.trim()){const e=T[o],t=F(b,e?.answer||"");h(e=>[...e,b]),L(e=>[...e,t]),t&&G(e=>e+a.pointsPerImage)}},B=()=>{const e=S.trim()?parseFloat(S):D;!isNaN(e)&&e>=0&&e<=a.maxScore?r(e,D):alert(`Please enter a valid score between 0.0 and ${a.maxScore} or leave empty to use auto score`)};if(!f)return U.jsx("div",{className:"min-h-screen flex items-center justify-center p-6",children:U.jsx("div",{className:"max-w-2xl w-full text-center",children:U.jsxs("div",{className:"bg-black/40 backdrop-blur-sm border border-blue-500/30 rounded-2xl p-12",children:[U.jsxs("div",{className:"mb-8",children:[U.jsx(k,{className:"w-16 h-16 text-blue-400 mx-auto mb-4"}),U.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Ready to Play?"}),U.jsxs("p",{className:"text-xl text-blue-300 mb-2",children:["Welcome, ",e,"!"]}),U.jsxs("p",{className:"text-gray-400",children:["You'll see ",a.imagesPerGame," random images"]})]}),U.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-8 text-left",children:[U.jsxs("div",{className:"p-4 bg-blue-600/10 border border-blue-500/30 rounded-lg",children:[U.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[U.jsx(u,{className:"w-5 h-5 text-blue-400"}),U.jsx("span",{className:"text-blue-400 font-semibold",children:"Time Limits"})]}),U.jsxs("p",{className:"text-gray-300 text-sm",children:[Math.floor(a.totalGameTime/60)," minutes total"]}),U.jsxs("p",{className:"text-gray-300 text-sm",children:[a.imageTimeLimit," seconds per image"]})]}),U.jsxs("div",{className:"p-4 bg-purple-600/10 border border-purple-500/30 rounded-lg",children:[U.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[U.jsx(C,{className:"w-5 h-5 text-purple-400"}),U.jsx("span",{className:"text-purple-400 font-semibold",children:"Scoring"})]}),U.jsxs("p",{className:"text-gray-300 text-sm",children:["Auto: ",a.pointsPerImage," point per correct answer"]}),U.jsxs("p",{className:"text-gray-300 text-sm",children:["Max: ",a.maxScore," points (admin adjustable)"]})]})]}),U.jsxs("div",{className:"flex gap-4 justify-center",children:[U.jsxs("button",{onClick:l,className:"px-6 py-3 bg-gray-600/20 border border-gray-500/30 rounded-lg text-gray-400 hover:bg-gray-600/30 transition-all duration-300 flex items-center gap-2",children:[U.jsx(m,{className:"w-4 h-4"}),"Back"]}),U.jsx("button",{onClick:O,className:"px-8 py-3 bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg font-bold text-white hover:from-blue-500 hover:to-purple-500 transition-all duration-300 transform hover:scale-105",children:"🚀 Start Game"})]})]})})});if(y)return U.jsx("div",{className:"min-h-screen flex items-center justify-center p-6",children:U.jsx("div",{className:"max-w-2xl w-full text-center",children:U.jsxs("div",{className:"bg-black/40 backdrop-blur-sm border border-yellow-500/30 rounded-2xl p-12",children:[U.jsxs("div",{className:"mb-8",children:[U.jsx("div",{className:"text-6xl font-bold bg-gradient-to-r from-red-500 via-yellow-500 to-red-500 bg-clip-text text-transparent mb-4 animate-pulse",children:"GAME OVER"}),U.jsxs("div",{className:"text-2xl text-white mb-2",children:["Great job, ",e,"!"]}),U.jsxs("div",{className:"text-gray-400",children:["Answered: ",g.length," / ",Math.min(a.imagesPerGame,T.length)," images"]})]}),U.jsxs("div",{className:"bg-blue-600/10 border border-blue-500/30 rounded-xl p-6 mb-6",children:[U.jsx("h3",{className:"text-lg font-bold text-blue-400 mb-4",children:"Score Summary"}),U.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[U.jsxs("div",{className:"text-center",children:[U.jsx("div",{className:"text-3xl font-bold text-green-400",children:D.toFixed(1)}),U.jsx("div",{className:"text-sm text-gray-400",children:"Auto Score"}),U.jsxs("div",{className:"text-xs text-gray-500",children:[R.filter(Boolean).length," correct answers"]})]}),U.jsxs("div",{className:"text-center",children:[U.jsx("div",{className:"text-3xl font-bold text-purple-400",children:a.maxScore}),U.jsx("div",{className:"text-sm text-gray-400",children:"Maximum Possible"}),U.jsx("div",{className:"text-xs text-gray-500",children:"Admin adjustable"})]})]})]}),U.jsxs("div",{className:"bg-orange-600/10 border border-orange-500/30 rounded-xl p-6 mb-6",children:[U.jsx("h3",{className:"text-lg font-bold text-orange-400 mb-4",children:"Game Incharge: Final Score Entry"}),U.jsxs("div",{className:"flex gap-3 justify-center items-center",children:[U.jsx("input",{type:"number",value:S,onChange:e=>I(e.target.value),placeholder:`Leave empty for auto score (${D.toFixed(1)})`,className:"w-64 p-3 bg-black/50 border border-orange-500/30 rounded-lg text-white text-center focus:border-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-400/20",min:"0",max:a.maxScore,step:"0.1"}),U.jsxs("span",{className:"text-orange-400 font-medium",children:["/ ",a.maxScore]}),U.jsx("button",{onClick:B,className:"px-6 py-3 bg-orange-600/20 border border-orange-500/30 rounded-lg text-orange-400 hover:bg-orange-600/30 transition-all duration-300 font-medium",children:"Submit Final Score"})]}),U.jsxs("p",{className:"text-gray-400 text-sm mt-2",children:["Leave empty to use auto score (",D.toFixed(1),") or enter custom score (0.0 to ",a.maxScore,")"]})]}),U.jsx("button",{onClick:()=>w(!1),className:"px-6 py-3 bg-gray-600/20 border border-gray-500/30 rounded-lg text-gray-400 hover:bg-gray-600/30 transition-all duration-300",children:"View Detailed Results"})]})})});if(v)return U.jsx("div",{className:"min-h-screen p-6",children:U.jsx("div",{className:"max-w-4xl mx-auto",children:U.jsxs("div",{className:"bg-black/40 backdrop-blur-sm border border-green-500/30 rounded-2xl p-8",children:[U.jsx("h2",{className:"text-2xl font-bold text-green-400 mb-6",children:"Detailed Results Review"}),U.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:T.slice(0,g.length).map((e,t)=>U.jsxs("div",{className:"bg-white/5 border border-gray-600/30 rounded-lg p-4",children:[U.jsx("img",{src:e.url,alt:`Question ${t+1}`,className:"w-full h-32 object-cover rounded-lg mb-3",loading:"lazy"}),U.jsxs("div",{className:"text-sm space-y-2",children:[U.jsxs("p",{className:"text-gray-400",children:["Question ",t+1,":"]}),U.jsxs("div",{className:"flex items-center gap-2",children:[R[t]?U.jsx(E,{className:"w-4 h-4 text-green-400"}):U.jsx(P,{className:"w-4 h-4 text-red-400"}),U.jsx("span",{className:"font-medium "+(R[t]?"text-green-400":"text-red-400"),children:R[t]?"Correct":"Incorrect"})]}),U.jsxs("p",{className:"text-white",children:['Your answer: "',g[t]||"No answer",'"']}),U.jsxs("p",{className:"text-blue-400",children:['Correct answer: "',e.answer,'"']}),R[t]&&U.jsxs("p",{className:"text-green-400 text-xs",children:["+",a.pointsPerImage," points"]})]})]},e.id))}),U.jsxs("div",{className:"flex justify-center mt-8 gap-4",children:[U.jsx("button",{onClick:()=>w(!0),className:"px-6 py-3 bg-blue-600/20 border border-blue-500/30 rounded-lg text-blue-400 hover:bg-blue-600/30 transition-all duration-300",children:"Back to Score Entry"}),U.jsx("div",{className:"px-6 py-3 bg-green-600/20 border border-green-500/30 rounded-lg",children:U.jsxs("span",{className:"text-green-400 font-medium",children:["Final Auto Score: ",D.toFixed(1)," / ",a.maxScore]})})]})]})})});const Y=T[o];return U.jsx("div",{className:"min-h-screen p-6",children:U.jsxs("div",{className:"max-w-4xl mx-auto",children:[U.jsxs("div",{className:"bg-black/40 backdrop-blur-sm border border-blue-500/30 rounded-2xl p-6 mb-6",children:[U.jsxs("div",{className:"flex items-center justify-between",children:[U.jsxs("div",{className:"flex items-center gap-4",children:[U.jsx("h2",{className:"text-xl font-bold text-white",children:e}),U.jsxs("div",{className:"text-blue-400",children:["Image ",o+1," of ",Math.min(a.imagesPerGame,T.length)]})]}),U.jsxs("div",{className:"flex items-center gap-6",children:[U.jsxs("div",{className:"flex items-center gap-2",children:[U.jsx(u,{className:"w-5 h-5 text-yellow-400"}),U.jsx("span",{className:"text-white font-mono text-lg",children:($=i,`${Math.floor($/60)}:${($%60).toString().padStart(2,"0")}`)})]}),U.jsxs("div",{className:"text-center",children:[U.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Image Timer"}),U.jsxs("div",{className:"text-lg font-bold "+(d<=3?"text-red-400":"text-green-400"),children:[d,"s"]})]}),U.jsxs("div",{className:"text-center",children:[U.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Auto Score"}),U.jsx("div",{className:"text-lg font-bold text-purple-400",children:D.toFixed(1)})]})]})]}),U.jsx("div",{className:"mt-4",children:U.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:U.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 h-2 rounded-full transition-all duration-300",style:{width:(o+1)/Math.min(a.imagesPerGame,T.length)*100+"%"}})})})]}),U.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[U.jsx("div",{className:"bg-black/40 backdrop-blur-sm border border-purple-500/30 rounded-2xl p-8",children:U.jsxs("div",{className:"text-center",children:[U.jsx("h3",{className:"text-lg font-bold text-purple-400 mb-4",children:"What is this?"}),Y&&U.jsxs("div",{className:"relative",children:[U.jsx("img",{src:Y.url,alt:`Image ${o+1}`,className:"w-full max-h-80 object-contain rounded-lg border border-gray-600/30",loading:"lazy"}),U.jsx("div",{className:"absolute top-4 right-4",children:U.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center font-bold text-lg "+(d<=3?"bg-red-500/80 text-white animate-pulse":"bg-green-500/80 text-white"),children:d})})]})]})}),U.jsxs("div",{className:"bg-black/40 backdrop-blur-sm border border-green-500/30 rounded-2xl p-8",children:[U.jsx("h3",{className:"text-lg font-bold text-green-400 mb-4",children:"Your Answer"}),U.jsxs("div",{className:"space-y-4",children:[U.jsx("input",{ref:M,type:"text",value:b,onChange:e=>p(e.target.value),onKeyPress:e=>"Enter"===e.key&&_(),placeholder:"Type what you see...",className:"w-full p-4 bg-black/50 border border-green-500/30 rounded-lg text-white placeholder-gray-400 focus:border-green-400 focus:outline-none focus:ring-2 focus:ring-green-400/20 transition-all duration-300 text-lg"}),U.jsxs("div",{className:"flex gap-3",children:[U.jsx("button",{onClick:_,className:"flex-1 py-3 bg-gradient-to-r from-green-600 to-blue-600 rounded-lg font-bold text-white hover:from-green-500 hover:to-blue-500 transition-all duration-300",children:"Submit Answer"}),U.jsx("button",{onClick:()=>{p(""),_()},className:"px-6 py-3 bg-yellow-600/20 border border-yellow-500/30 rounded-lg text-yellow-400 hover:bg-yellow-600/30 transition-all duration-300",children:"Skip"})]})]}),U.jsx("div",{className:"mt-6 p-4 bg-white/5 rounded-lg",children:U.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[U.jsxs("div",{children:[U.jsx("div",{className:"text-2xl font-bold text-blue-400",children:g.length}),U.jsx("div",{className:"text-xs text-gray-400",children:"Answered"})]}),U.jsxs("div",{children:[U.jsx("div",{className:"text-2xl font-bold text-green-400",children:R.filter(Boolean).length}),U.jsx("div",{className:"text-xs text-gray-400",children:"Correct"})]}),U.jsxs("div",{children:[U.jsx("div",{className:"text-2xl font-bold text-purple-400",children:Math.min(a.imagesPerGame,T.length)-o}),U.jsx("div",{className:"text-xs text-gray-400",children:"Remaining"})]})]})})]})]})]})});var $},H=({players:e,gameSettings:t,onBack:s})=>{const a=e=>{switch(e){case 1:return U.jsx(A,{className:"w-6 h-6 text-yellow-400"});case 2:return U.jsx(T,{className:"w-6 h-6 text-gray-300"});case 3:return U.jsx(D,{className:"w-6 h-6 text-orange-400"});default:return U.jsx(G,{className:"w-6 h-6 text-blue-400"})}},r=e=>{switch(e){case 1:return"from-yellow-600/20 to-orange-600/20 border-yellow-500/30";case 2:return"from-gray-600/20 to-gray-500/20 border-gray-400/30";case 3:return"from-orange-600/20 to-red-600/20 border-orange-500/30";default:return"from-blue-600/10 to-purple-600/10 border-blue-500/20"}};return U.jsx("div",{className:"min-h-screen p-6",children:U.jsxs("div",{className:"max-w-4xl mx-auto",children:[U.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[U.jsx("button",{onClick:s,className:"p-3 bg-gray-600/20 border border-gray-500/30 rounded-lg hover:bg-gray-600/30 transition-all duration-300",children:U.jsx(m,{className:"w-5 h-5 text-gray-400"})}),U.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-yellow-400 via-orange-500 to-red-500 bg-clip-text text-transparent",children:"🏆 Leaderboard"})]}),0===e.length?U.jsxs("div",{className:"bg-black/40 backdrop-blur-sm border border-gray-500/30 rounded-2xl p-12 text-center",children:[U.jsx(I,{className:"w-16 h-16 text-gray-400 mx-auto mb-4 opacity-50"}),U.jsx("h2",{className:"text-2xl font-bold text-gray-400 mb-2",children:"No Champions Yet!"}),U.jsx("p",{className:"text-gray-500",children:"Be the first to complete the Image Spotter challenge!"})]}):U.jsxs("div",{className:"space-y-4",children:[e.length>=3&&U.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-8",children:[U.jsx("div",{className:"order-1 md:order-1",children:U.jsxs("div",{className:"bg-gradient-to-br from-gray-600/20 to-gray-500/20 border border-gray-400/30 rounded-2xl p-6 text-center h-40 flex flex-col justify-center",children:[U.jsx(T,{className:"w-8 h-8 text-gray-300 mx-auto mb-2"}),U.jsx("div",{className:"text-lg font-bold text-white",children:e[1].name}),U.jsx("div",{className:"text-2xl font-bold text-gray-300",children:e[1].score.toFixed(1)}),U.jsxs("div",{className:"text-xs text-gray-400",children:["Auto: ",e[1].autoScore.toFixed(1)]}),U.jsx("div",{className:"text-sm text-gray-400",children:"#2"})]})}),U.jsx("div",{className:"order-2 md:order-2",children:U.jsxs("div",{className:"bg-gradient-to-br from-yellow-600/30 to-orange-600/30 border border-yellow-500/50 rounded-2xl p-6 text-center h-48 flex flex-col justify-center relative overflow-hidden",children:[U.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-yellow-400/10 to-orange-400/10 animate-pulse"}),U.jsx(A,{className:"w-12 h-12 text-yellow-400 mx-auto mb-3 relative z-10"}),U.jsx("div",{className:"text-xl font-bold text-white relative z-10",children:e[0].name}),U.jsx("div",{className:"text-3xl font-bold text-yellow-400 relative z-10",children:e[0].score.toFixed(1)}),U.jsxs("div",{className:"text-xs text-yellow-300 relative z-10",children:["Auto: ",e[0].autoScore.toFixed(1)]}),U.jsx("div",{className:"text-sm text-yellow-300 relative z-10",children:"👑 CHAMPION"})]})}),U.jsx("div",{className:"order-3 md:order-3",children:U.jsxs("div",{className:"bg-gradient-to-br from-orange-600/20 to-red-600/20 border border-orange-500/30 rounded-2xl p-6 text-center h-40 flex flex-col justify-center",children:[U.jsx(D,{className:"w-8 h-8 text-orange-400 mx-auto mb-2"}),U.jsx("div",{className:"text-lg font-bold text-white",children:e[2].name}),U.jsx("div",{className:"text-2xl font-bold text-orange-400",children:e[2].score.toFixed(1)}),U.jsxs("div",{className:"text-xs text-orange-300",children:["Auto: ",e[2].autoScore.toFixed(1)]}),U.jsx("div",{className:"text-sm text-orange-300",children:"#3"})]})})]}),U.jsxs("div",{className:"bg-black/40 backdrop-blur-sm border border-blue-500/30 rounded-2xl p-8",children:[U.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[U.jsx(I,{className:"w-6 h-6 text-yellow-400"}),"Complete Rankings"]}),U.jsx("div",{className:"space-y-3",children:e.map((e,s)=>{const l=s+1;return U.jsxs("div",{className:`flex items-center justify-between p-6 rounded-xl bg-gradient-to-r border transition-all duration-300 hover:scale-[1.02] ${1===l?"from-yellow-600/20 to-orange-600/20 border-yellow-500/50 shadow-lg shadow-yellow-500/10":r(l)}`,children:[U.jsxs("div",{className:"flex items-center gap-4",children:[U.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-black/30",children:a(l)}),U.jsxs("div",{children:[U.jsxs("div",{className:"flex items-center gap-2",children:[U.jsxs("span",{className:"text-2xl font-bold "+(1===l?"text-yellow-400":2===l?"text-gray-300":3===l?"text-orange-400":"text-blue-400"),children:["#",l]}),U.jsx("span",{className:"text-xl font-bold text-white",children:e.name}),1===l&&U.jsxs("div",{className:"flex items-center gap-1",children:[U.jsx(A,{className:"w-5 h-5 text-yellow-400"}),U.jsx("span",{className:"text-yellow-400 text-sm font-medium",children:"CHAMPION"})]})]}),U.jsxs("div",{className:"text-gray-400 text-sm",children:[new Date(e.timestamp).toLocaleDateString()," at"," ",new Date(e.timestamp).toLocaleTimeString()]}),U.jsxs("div",{className:"flex gap-4 mt-1",children:[U.jsxs("span",{className:"text-xs text-blue-400",children:["Auto Score: ",e.autoScore.toFixed(1)]}),U.jsxs("span",{className:"text-xs text-green-400",children:["Final Score: ",e.score.toFixed(1)]})]})]})]}),U.jsxs("div",{className:"text-right",children:[U.jsx("div",{className:"text-3xl font-bold "+(1===l?"text-yellow-400":2===l?"text-gray-300":3===l?"text-orange-400":"text-blue-400"),children:e.score.toFixed(1)}),U.jsxs("div",{className:"text-gray-400 text-sm",children:["/ ",t.maxScore," points"]}),U.jsx("div",{className:"text-xs text-gray-500",children:e.score!==e.autoScore?"Admin Adjusted":"Auto Score"})]})]},e.id)})})]}),U.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[U.jsxs("div",{className:"bg-black/40 backdrop-blur-sm border border-green-500/30 rounded-xl p-6 text-center",children:[U.jsx("div",{className:"text-2xl font-bold text-green-400",children:e.length}),U.jsx("div",{className:"text-gray-400",children:"Total Players"})]}),U.jsxs("div",{className:"bg-black/40 backdrop-blur-sm border border-blue-500/30 rounded-xl p-6 text-center",children:[U.jsx("div",{className:"text-2xl font-bold text-blue-400",children:e.length>0?(e.reduce((e,t)=>e+t.score,0)/e.length).toFixed(1):"0.0"}),U.jsx("div",{className:"text-gray-400",children:"Average Score"})]}),U.jsxs("div",{className:"bg-black/40 backdrop-blur-sm border border-purple-500/30 rounded-xl p-6 text-center",children:[U.jsx("div",{className:"text-2xl font-bold text-purple-400",children:e.length>0?Math.max(...e.map(e=>e.score)).toFixed(1):"0.0"}),U.jsx("div",{className:"text-gray-400",children:"Highest Score"})]}),U.jsxs("div",{className:"bg-black/40 backdrop-blur-sm border border-orange-500/30 rounded-xl p-6 text-center",children:[U.jsx("div",{className:"text-2xl font-bold text-orange-400",children:e.length>0?(e.reduce((e,t)=>e+t.autoScore,0)/e.length).toFixed(1):"0.0"}),U.jsx("div",{className:"text-gray-400",children:"Avg Auto Score"})]})]})]})]})})},q=()=>{const e=s.useRef(null);return s.useEffect(()=>{const t=e.current;if(!t)return;const s=t.getContext("2d");if(!s)return;t.width=window.innerWidth,t.height=window.innerHeight;const a=[];for(let e=0;e<200;e++)a.push({x:Math.random()*t.width,y:Math.random()*t.height,size:2*Math.random()+.5,opacity:Math.random(),speed:.5*Math.random()+.1,twinkleSpeed:.02*Math.random()+.005,twinklePhase:Math.random()*Math.PI*2});let r;const l=()=>{const e=s.createLinearGradient(0,0,0,t.height);e.addColorStop(0,"#0a0a1a"),e.addColorStop(.5,"#1a0a2a"),e.addColorStop(1,"#2a0a3a"),s.fillStyle=e,s.fillRect(0,0,t.width,t.height),a.forEach(e=>{e.y+=e.speed,e.y>t.height&&(e.y=-5,e.x=Math.random()*t.width),e.twinklePhase+=e.twinkleSpeed;const a=.5*Math.sin(e.twinklePhase)+.5,r=e.opacity*a;s.beginPath();const l=s.createRadialGradient(e.x,e.y,0,e.x,e.y,3*e.size);l.addColorStop(0,`rgba(255, 255, 255, ${r})`),l.addColorStop(.5,`rgba(100, 150, 255, ${.5*r})`),l.addColorStop(1,"rgba(100, 150, 255, 0)"),s.fillStyle=l,s.arc(e.x,e.y,3*e.size,0,2*Math.PI),s.fill(),s.beginPath(),s.fillStyle=`rgba(255, 255, 255, ${r})`,s.arc(e.x,e.y,e.size,0,2*Math.PI),s.fill()});const o=s.createRadialGradient(.3*t.width,.7*t.height,0,.3*t.width,.7*t.height,.8*t.width);o.addColorStop(0,"rgba(100, 50, 150, 0.1)"),o.addColorStop(.5,"rgba(50, 100, 200, 0.05)"),o.addColorStop(1,"rgba(0, 50, 100, 0)"),s.fillStyle=o,s.fillRect(0,0,t.width,t.height),r=requestAnimationFrame(l)},o=()=>{t.width=window.innerWidth,t.height=window.innerHeight};return window.addEventListener("resize",o),l(),()=>{window.removeEventListener("resize",o),cancelAnimationFrame(r)}},[]),U.jsx("canvas",{ref:e,className:"fixed top-0 left-0 w-full h-full -z-10",style:{background:"radial-gradient(ellipse at center, #1a0a2a 0%, #0a0a1a 100%)"}})};function Z(){const[e,t]=s.useState(!1),[l,o]=s.useState("home"),[n,i]=s.useState(""),[c,d]=s.useState("VIT Chennai Clubs"),[m,g]=s.useState(null),[b,p]=s.useState([]),[f,j]=s.useState([]),[v,N]=s.useState({imageTimeLimit:10,totalGameTime:300,maxScore:40,imagesPerGame:30,pointsPerImage:1}),[y,w]=s.useState(!1),[S,k]=s.useState(null),[C,E]=s.useState(!1);s.useEffect(()=>{(async()=>{try{console.log("Loading persisted data...");const e=K.loadData("image-spotter-players",[]);console.log("Loaded players:",e.length),p(e);const t=K.loadData("image-spotter-images",[]);console.log("Loaded images:",t.length),j(t);const s=K.loadData("image-spotter-game-settings",{imageTimeLimit:10,totalGameTime:300,maxScore:40,imagesPerGame:30,pointsPerImage:1});N(s);const a=K.loadData("image-spotter-club-logo","");a&&g(a),E(!0),console.log("Data loading completed successfully")}catch(e){console.error("Error loading persisted data:",e),p([]),j([]),N({imageTimeLimit:10,totalGameTime:300,maxScore:40,imagesPerGame:30,pointsPerImage:1}),E(!0)}})()},[]),s.useEffect(()=>{if(!C)return;const e=setTimeout(async()=>{try{K.saveData("image-spotter-players",b)?console.log("Players data saved successfully:",b.length,"players"):console.error("Failed to save players data")}catch(e){console.error("Error saving players data:",e)}},500);return()=>clearTimeout(e)},[b,C]),s.useEffect(()=>{if(!C)return;const e=setTimeout(async()=>{try{K.saveData("image-spotter-images",f)?console.log("Images data saved successfully:",f.length,"images"):console.error("Failed to save images data")}catch(e){console.error("Error saving images data:",e)}},1e3);return()=>clearTimeout(e)},[f,C]),s.useEffect(()=>{if(!C)return;const e=setTimeout(async()=>{try{K.saveData("image-spotter-game-settings",v)&&console.log("Game settings saved successfully")}catch(e){console.error("Error saving game settings:",e)}},500);return()=>clearTimeout(e)},[v,C]),s.useEffect(()=>{if(!C)return;const e=setTimeout(async()=>{try{K.saveData("image-spotter-club-logo",m||"")&&console.log("Club logo saved successfully")}catch(e){console.error("Error saving club logo:",e)}},500);return()=>clearTimeout(e)},[m,C]),s.useEffect(()=>{const e=setInterval(()=>{(b.length>0||f.length>0)&&(console.log("Performing periodic backup..."),K.saveData("image-spotter-players",b),K.saveData("image-spotter-images",f),K.saveData("image-spotter-game-settings",v),K.saveData("image-spotter-club-logo",m||""))},3e5);return()=>clearInterval(e)},[b,f,v,m]),s.useEffect(()=>{const e=()=>{try{K.saveData("image-spotter-players",b),K.saveData("image-spotter-images",f),K.saveData("image-spotter-game-settings",v),K.saveData("image-spotter-club-logo",m||""),console.log("Data saved before page unload")}catch(e){console.error("Error saving data before unload:",e)}};return window.addEventListener("beforeunload",e),()=>window.removeEventListener("beforeunload",e)},[b,f,v,m]);const P=(e,s)=>{t(!0),d(e),s&&g(s)},T=()=>{t(!1),o("home"),d("VIT Chennai Clubs"),g(null)},A=()=>{if(!n.trim())return void alert("Please enter your name to start the game!");if(f.length<v.imagesPerGame)return void alert(`Not enough images uploaded yet. Need ${v.imagesPerGame} images. Please contact the game admin.`);const e=Date.now().toString();k(e),o("game")},D=(e,t)=>{if(S){const s={id:S,name:n,score:e,autoScore:t,timestamp:Date.now()};p(e=>{const t=[...e,s].sort((e,t)=>t.score-e.score);return console.log("New player added:",s.name,"Score:",s.score,"Auto Score:",s.autoScore),t})}o("home"),i(""),k(null)},G=(e,t)=>{p(s=>{const a=s.map(s=>s.id===e?{...s,score:t}:s).sort((e,t)=>t.score-e.score);return console.log("Player score updated:",e,"New score:",t),a})},L=e=>{N(e)},M=()=>{const e={imageTimeLimit:10,totalGameTime:300,maxScore:40,imagesPerGame:30,pointsPerImage:1};N(e),K.saveData("image-spotter-game-settings",e),alert("Game settings reset to default values and saved!")};return C?e?"admin"===l?U.jsxs("div",{className:"min-h-screen relative overflow-hidden",children:[U.jsx(q,{}),U.jsx(J,{gameImages:f,setGameImages:j,players:b,updatePlayerScore:G,gameSettings:v,updateGameSettings:L,resetToDefaults:M,clubLogo:m,setClubLogo:g,onBack:()=>o("home"),onLogout:T})]}):"game"===l?U.jsxs("div",{className:"min-h-screen relative overflow-hidden",children:[U.jsx(q,{}),U.jsx(V,{playerName:n,gameImages:f,gameSettings:v,onGameComplete:D,onBack:()=>o("home")})]}):"leaderboard"===l?U.jsxs("div",{className:"min-h-screen relative overflow-hidden",children:[U.jsx(q,{}),U.jsx(H,{players:b,gameSettings:v,onBack:()=>o("home")})]}):U.jsxs("div",{className:"min-h-screen relative overflow-hidden",children:[U.jsx(q,{}),U.jsx("div",{className:"relative z-10 p-6",children:U.jsxs("div",{className:"max-w-6xl mx-auto",children:[U.jsxs("div",{className:"flex justify-between items-center mb-8",children:[U.jsxs("div",{className:"text-center flex-1",children:[U.jsxs("div",{className:"flex items-center justify-center gap-8 mb-4",children:[U.jsxs("div",{className:"text-center",children:[U.jsxs("div",{className:"relative w-20 h-20 bg-gradient-to-br from-blue-400 via-purple-500 to-cyan-400 rounded-full flex items-center justify-center mb-3 mx-auto border-2 border-blue-400/30 shadow-lg shadow-blue-500/25 overflow-hidden",children:[U.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-400/20 to-purple-500/20 rounded-full animate-pulse"}),m?U.jsx("img",{src:m,alt:"Club Logo",className:"w-full h-full object-cover rounded-full relative z-10"}):U.jsx(a,{className:"w-10 h-10 text-white relative z-10 transform rotate-45"}),U.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-yellow-400 rounded-full animate-ping"})]}),U.jsxs("div",{className:"bg-gradient-to-r from-blue-600/30 to-purple-600/30 border border-blue-500/40 rounded-xl px-4 py-2 backdrop-blur-sm",children:[U.jsx("p",{className:"text-sm text-blue-200 font-semibold",children:c}),U.jsxs("div",{className:"flex items-center justify-center gap-1 mt-1",children:[U.jsx("div",{className:"w-1 h-1 bg-blue-400 rounded-full"}),U.jsx("div",{className:"w-1 h-1 bg-purple-400 rounded-full"}),U.jsx("div",{className:"w-1 h-1 bg-cyan-400 rounded-full"})]})]})]}),U.jsxs("div",{className:"text-center",children:[U.jsxs("div",{className:"relative w-20 h-20 bg-gradient-to-br from-orange-400 via-red-500 to-pink-400 rounded-full flex items-center justify-center mb-3 mx-auto border-2 border-orange-400/30 shadow-lg shadow-orange-500/25 overflow-hidden",children:[U.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-400/20 to-red-500/20 rounded-full animate-pulse"}),U.jsx("img",{src:"/images (48).jpeg",alt:"VIT Chennai Logo",className:"w-full h-full object-cover rounded-full relative z-10"}),U.jsx("div",{className:"absolute -bottom-1 -left-1 w-3 h-3 bg-cyan-400 rounded-full animate-bounce"})]}),U.jsxs("div",{className:"bg-gradient-to-r from-orange-600/30 to-red-600/30 border border-orange-500/40 rounded-xl px-4 py-2 backdrop-blur-sm",children:[U.jsx("p",{className:"text-sm text-orange-200 font-semibold",children:"VIT Chennai"}),U.jsxs("div",{className:"flex items-center justify-center gap-1 mt-1",children:[U.jsx("div",{className:"w-1 h-1 bg-orange-400 rounded-full"}),U.jsx("div",{className:"w-1 h-1 bg-red-400 rounded-full"}),U.jsx("div",{className:"w-1 h-1 bg-pink-400 rounded-full"})]})]})]})]}),U.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-blue-400 via-purple-500 to-pink-500 bg-clip-text text-transparent mb-2",children:"Image Spotter"}),U.jsxs("p",{className:"text-xl text-blue-300 mb-2",children:[Math.floor(v.totalGameTime/60),"-Minute Vision Test"]}),U.jsx("p",{className:"text-sm text-gray-400",children:"Space-themed Gaming Platform"})]}),U.jsxs("div",{className:"flex gap-2",children:[U.jsx("button",{onClick:()=>o("admin"),className:"p-3 bg-purple-600/20 border border-purple-500/30 rounded-lg hover:bg-purple-600/30 transition-all duration-300 group",children:U.jsx(h,{className:"w-5 h-5 text-purple-400 group-hover:rotate-90 transition-transform duration-300"})}),U.jsx("button",{onClick:T,className:"p-3 bg-red-600/20 border border-red-500/30 rounded-lg hover:bg-red-600/30 transition-all duration-300",children:U.jsx(x,{className:"w-5 h-5 text-red-400"})})]})]}),U.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[U.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[U.jsxs("div",{className:"bg-black/40 backdrop-blur-sm border border-blue-500/30 rounded-2xl p-8",children:[U.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[U.jsx(R,{className:"w-6 h-6 text-blue-400"}),"Start Your Challenge"]}),U.jsxs("div",{className:"space-y-4",children:[U.jsxs("div",{children:[U.jsx("label",{className:"block text-blue-300 font-medium mb-2",children:"Enter Your Name"}),U.jsx("input",{type:"text",value:n,onChange:e=>i(e.target.value),placeholder:"Your name here...",className:"w-full p-4 bg-black/50 border border-blue-500/30 rounded-lg text-white placeholder-gray-400 focus:border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-400/20 transition-all duration-300",onKeyPress:e=>"Enter"===e.key&&A()})]}),U.jsxs("button",{onClick:A,disabled:!n.trim()||f.length<v.imagesPerGame,className:"w-full py-4 bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg font-bold text-white hover:from-blue-500 hover:to-purple-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 transform hover:scale-105 hover:shadow-lg hover:shadow-blue-500/25",children:["🚀 Start Game (",f.length,"/",v.imagesPerGame," images ready)"]})]})]}),U.jsxs("div",{className:"bg-black/40 backdrop-blur-sm border border-green-500/30 rounded-2xl p-8",children:[U.jsxs("button",{onClick:()=>w(!y),className:"w-full flex items-center justify-between text-left",children:[U.jsx("h3",{className:"text-xl font-bold text-green-400",children:"📖 Game Instructions"}),U.jsx("span",{className:"text-green-400",children:y?"−":"+"})]}),y&&U.jsxs("div",{className:"mt-4 space-y-3 text-gray-300",children:[U.jsxs("div",{className:"flex items-start gap-3",children:[U.jsx("span",{className:"text-blue-400 font-bold",children:"🧠"}),U.jsxs("p",{children:["You will be shown ",v.imagesPerGame," random images to identify."]})]}),U.jsxs("div",{className:"flex items-start gap-3",children:[U.jsx("span",{className:"text-yellow-400 font-bold",children:"⏱️"}),U.jsxs("p",{children:["You have exactly ",v.imageTimeLimit," seconds per image to identify what it is."]})]}),U.jsxs("div",{className:"flex items-start gap-3",children:[U.jsx("span",{className:"text-red-400 font-bold",children:"🎯"}),U.jsxs("p",{children:["Total game time is ",Math.floor(v.totalGameTime/60)," minutes - use your time wisely!"]})]}),U.jsxs("div",{className:"flex items-start gap-3",children:[U.jsx("span",{className:"text-purple-400 font-bold",children:"📝"}),U.jsx("p",{children:"Type your answer in the text box below each image."})]}),U.jsxs("div",{className:"flex items-start gap-3",children:[U.jsx("span",{className:"text-green-400 font-bold",children:"🏆"}),U.jsxs("p",{children:["Your score will be calculated automatically (",v.pointsPerImage," point per correct answer) and can be adjusted by the game administrator (max ",v.maxScore," points)."]})]}),U.jsxs("div",{className:"flex items-start gap-3",children:[U.jsx("span",{className:"text-orange-400 font-bold",children:"📊"}),U.jsx("p",{children:"Check the leaderboard to see your ranking!"})]})]})]})]}),U.jsxs("div",{className:"space-y-6",children:[U.jsxs("div",{className:"bg-black/40 backdrop-blur-sm border border-yellow-500/30 rounded-2xl p-6",children:[U.jsxs("div",{className:"flex items-center justify-between mb-4",children:[U.jsxs("h3",{className:"text-xl font-bold text-yellow-400 flex items-center gap-2",children:[U.jsx(I,{className:"w-5 h-5"}),"Leaderboard"]}),U.jsx("button",{onClick:()=>o("leaderboard"),className:"text-yellow-400 hover:text-yellow-300 transition-colors",children:"View All"})]}),U.jsxs("div",{className:"space-y-3",children:[b.slice(0,5).map((e,t)=>U.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg "+(0===t?"bg-gradient-to-r from-yellow-600/20 to-orange-600/20 border border-yellow-500/30":"bg-white/5 border border-gray-600/30"),children:[U.jsxs("div",{className:"flex items-center gap-3",children:[U.jsxs("span",{className:"text-lg font-bold "+(0===t?"text-yellow-400":1===t?"text-gray-300":2===t?"text-orange-400":"text-gray-500"),children:["#",t+1]}),U.jsxs("div",{children:[U.jsx("span",{className:"text-white font-medium block",children:e.name}),U.jsxs("span",{className:"text-xs text-gray-400",children:["Auto: ",e.autoScore]})]})]}),U.jsx("span",{className:"font-bold "+(0===t?"text-yellow-400":"text-blue-400"),children:e.score})]},e.id)),0===b.length&&U.jsxs("div",{className:"text-center py-8 text-gray-400",children:[U.jsx(r,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),U.jsx("p",{children:"No players yet!"}),U.jsx("p",{className:"text-sm",children:"Be the first to play!"})]})]})]}),U.jsxs("div",{className:"bg-black/40 backdrop-blur-sm border border-blue-500/30 rounded-2xl p-6",children:[U.jsxs("h3",{className:"text-lg font-bold text-blue-400 mb-4 flex items-center gap-2",children:[U.jsx(u,{className:"w-5 h-5"}),"Game Status"]}),U.jsxs("div",{className:"space-y-3 text-sm",children:[U.jsxs("div",{className:"flex justify-between",children:[U.jsx("span",{className:"text-gray-400",children:"Images Ready:"}),U.jsxs("span",{className:"font-bold "+(f.length>=v.imagesPerGame?"text-green-400":"text-red-400"),children:[f.length,"/",v.imagesPerGame]})]}),U.jsxs("div",{className:"flex justify-between",children:[U.jsx("span",{className:"text-gray-400",children:"Total Players:"}),U.jsx("span",{className:"text-blue-400 font-bold",children:b.length})]}),U.jsxs("div",{className:"flex justify-between",children:[U.jsx("span",{className:"text-gray-400",children:"Game Duration:"}),U.jsxs("span",{className:"text-purple-400 font-bold",children:[Math.floor(v.totalGameTime/60)," minutes"]})]}),U.jsxs("div",{className:"flex justify-between",children:[U.jsx("span",{className:"text-gray-400",children:"Time per Image:"}),U.jsxs("span",{className:"text-green-400 font-bold",children:[v.imageTimeLimit,"s"]})]}),U.jsxs("div",{className:"flex justify-between",children:[U.jsx("span",{className:"text-gray-400",children:"Points per Image:"}),U.jsx("span",{className:"text-yellow-400 font-bold",children:v.pointsPerImage})]}),U.jsxs("div",{className:"flex justify-between",children:[U.jsx("span",{className:"text-gray-400",children:"Data Status:"}),U.jsx("span",{className:"text-green-400 font-bold",children:"✓ Secured"})]})]})]})]})]})]})}),U.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-20 pointer-events-none",children:U.jsx("div",{className:"bg-gradient-to-t from-black/60 via-black/20 to-transparent p-4",children:U.jsx("div",{className:"max-w-6xl mx-auto",children:U.jsxs("div",{className:"flex items-center justify-between",children:[U.jsxs("div",{className:"flex items-center gap-3 pointer-events-auto",children:[U.jsxs("div",{className:"relative",children:[U.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-cyan-400 to-blue-500 rounded-lg flex items-center justify-center border border-cyan-400/30",children:U.jsx(a,{className:"w-4 h-4 text-white transform rotate-45"})}),U.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-yellow-400 rounded-full animate-pulse"})]}),U.jsxs("div",{className:"text-left",children:[U.jsx("div",{className:"text-sm font-bold bg-gradient-to-r from-cyan-400 to-blue-400 bg-clip-text text-transparent",children:"Developed by Meijeevan K.T"}),U.jsx("div",{className:"text-xs text-gray-400",children:"Space-themed Gaming Platform • VIT Chennai"})]})]}),U.jsxs("div",{className:"text-xs text-gray-500 pointer-events-auto",children:["v2.0 • ",(new Date).getFullYear()]})]})})})})]}):U.jsxs("div",{className:"min-h-screen relative overflow-hidden",children:[U.jsx(q,{}),U.jsx(W,{onLogin:P})]}):U.jsxs("div",{className:"min-h-screen relative overflow-hidden flex items-center justify-center",children:[U.jsx(q,{}),U.jsxs("div",{className:"bg-black/40 backdrop-blur-sm border border-blue-500/30 rounded-2xl p-8 text-center",children:[U.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-blue-400 border-t-transparent rounded-full mx-auto mb-4"}),U.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Loading Game Data..."}),U.jsx("p",{className:"text-gray-400",children:"Please wait while we restore your data"})]})]})}class X extends s.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("Error caught by boundary:",e,t),this.setState({error:e,errorInfo:t})}handleReload=()=>{window.location.reload()};handleGoHome=()=>{this.setState({hasError:!1}),window.location.href=window.location.origin};render(){return this.state.hasError?this.props.fallback?this.props.fallback:U.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-blue-900 to-purple-900 flex items-center justify-center p-6",children:U.jsxs("div",{className:"bg-black/40 backdrop-blur-sm border border-red-500/30 rounded-2xl p-8 max-w-md w-full text-center",children:[U.jsx(b,{className:"w-16 h-16 text-red-400 mx-auto mb-4"}),U.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Oops! Something went wrong"}),U.jsx("p",{className:"text-gray-400 mb-6",children:"We encountered an unexpected error. Don't worry, your data is safe."}),U.jsxs("div",{className:"space-y-3",children:[U.jsxs("button",{onClick:this.handleReload,className:"w-full py-3 bg-blue-600/20 border border-blue-500/30 rounded-lg text-blue-400 hover:bg-blue-600/30 transition-all duration-300 flex items-center justify-center gap-2",children:[U.jsx(L,{className:"w-4 h-4"}),"Reload Page"]}),U.jsxs("button",{onClick:this.handleGoHome,className:"w-full py-3 bg-gray-600/20 border border-gray-500/30 rounded-lg text-gray-400 hover:bg-gray-600/30 transition-all duration-300 flex items-center justify-center gap-2",children:[U.jsx(M,{className:"w-4 h-4"}),"Go Home"]})]}),!1]})}):this.props.children}}window.addEventListener("error",e=>{console.error("Global error:",e.error)}),window.addEventListener("unhandledrejection",e=>{console.error("Unhandled promise rejection:",e.reason)}),"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{console.log("SW registered: ",e)}).catch(e=>{console.log("SW registration failed: ",e)})});const Q=document.getElementById("root");if(!Q)throw new Error("Root element not found");$.createRoot(Q).render(U.jsx(s.StrictMode,{children:U.jsx(X,{children:U.jsx(Z,{})})}));
